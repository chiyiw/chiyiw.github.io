---
layout: post
keywords: Start
description: 计算机网络的相关学习
title: 计算机网络-网关
categories: [学习]
tags: [Gateway]
group: archive
icon: globe
---

# 计算机网络-网关

## 网络物理部署

![](http://i13.tietuku.cn/1382122521f9627e.png)

### 前提环境

* 三台主机连接在交换机上
* 配置服务器的 ip为 `192.168.0.1`，默认网关也为 `192.168.0.1`
* 配置服务器 DHCP 开始 ip为 `192.168.0.100`，即子网的分配从`192.168.0.100`开始
* 由于连接了服务器，直接使用DHCP自动分配
* 自动分配结果为
* 
> 192.168.0.100
> 192.168.0.101
> 192.168.0.102
* 默认网关为`192.168.0.1`

### 网关
**网关是一个网络连接到另一个网络的“关口”**

例：

* 子网A的IP地址范围是 `192.168.1.1~192.168.1.254`
* 子网B的IP地址范围是 `192.168.2.1~192.168.2.254`
* 在没有路由器的情况下，两个子网之间是**不能**进行TCP/IP通信的，即时两个网络连接在同一台交换机上，TCP/IP协议会根据**子网掩码（`255.255.255.0`）**判定两个网路中的主机处在不同的网络里。
* 而要实现两个网络的连接，就必须通过**网关**。

**两个子网的通信过程：**

* 如果A网络中的主机发现数据包的目的主机不在本地网络中，就把数据包发送给它第网关，再由网关发送给B网络中的某个主机。
* B中的主机发送到网络A中也是如此。

**所以说，只有设置好网关的IP地址，TCP/IP协议才能实现不同网络间的相互通信。**

**网关地址是哪个IP地址？**

* 网关的IP地址是具有**路由转发**功能的IP地址。例如：
 * 路由器
 * 启用了路由协议的服务器（例如上图中）
 * 代理服务器  
 
**默认网关是什么？**

——一台主机可以有多个网关，如果找不到可用的网关，就把数据包发送给默认网关。